{"ast":null,"code":"\"use strict\";\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs3/core-js-stable/reflect/construct\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _url = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/url\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _reduce = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/reduce\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"../CoreManager\"));\n\nvar _convert = require(\"../utils/convert\");\n\nvar _verifyChainId = _interopRequireDefault(require(\"../utils/verifyChainId\"));\n\nvar _AbstractWeb3Connector = _interopRequireDefault(require(\"./AbstractWeb3Connector\"));\n\nvar _MoralisRpcs = require(\"./MoralisRpcs\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar MiniRpcProvider = /*#__PURE__*/(0, _createClass2.default)(function MiniRpcProvider(chainId, url) {\n  var _this = this;\n\n  (0, _classCallCheck2.default)(this, MiniRpcProvider);\n  (0, _defineProperty2.default)(this, \"request\", /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(method, params) {\n      var RESTController, response, _context, body, _body$error, _body$error2, _body$error3, _context2;\n\n      return _regenerator.default.wrap(function (_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (typeof method !== 'string') {\n                // eslint-disable-next-line prefer-destructuring\n                params = method.params; // eslint-disable-next-line prefer-destructuring\n\n                method = method.method;\n              }\n\n              RESTController = _CoreManager.default.getRESTController();\n              _context3.prev = 2;\n              _context3.next = 5;\n              return RESTController.ajax('POST', _this.url, (0, _stringify.default)({\n                jsonrpc: '2.0',\n                id: 1,\n                method: method,\n                params: params\n              }), {\n                'Content-Type': 'application/json'\n              });\n\n            case 5:\n              response = _context3.sent;\n\n              if (response) {\n                _context3.next = 8;\n                break;\n              }\n\n              throw new Error('No response');\n\n            case 8:\n              if (!(!response.status || response.status > 400)) {\n                _context3.next = 10;\n                break;\n              }\n\n              throw new Error((0, _concat.default)(_context = \"Error response [\".concat(response.status, \"] \")).call(_context, response.statusText));\n\n            case 10:\n              body = response.response;\n\n              if (!('error' in body)) {\n                _context3.next = 13;\n                break;\n              }\n\n              throw new Error(body === null || body === void 0 ? void 0 : (_body$error = body.error) === null || _body$error === void 0 ? void 0 : _body$error.message, body === null || body === void 0 ? void 0 : (_body$error2 = body.error) === null || _body$error2 === void 0 ? void 0 : _body$error2.code, body === null || body === void 0 ? void 0 : (_body$error3 = body.error) === null || _body$error3 === void 0 ? void 0 : _body$error3.data);\n\n            case 13:\n              if ('result' in body) {\n                _context3.next = 15;\n                break;\n              }\n\n              throw new Error(\"Received unexpected JSON-RPC response\");\n\n            case 15:\n              return _context3.abrupt(\"return\", body.result);\n\n            case 18:\n              _context3.prev = 18;\n              _context3.t0 = _context3[\"catch\"](2);\n              throw new Error((0, _concat.default)(_context2 = \"Failed to make \\\"\".concat(method, \"\\\" request with networkConnector: \\\"\")).call(_context2, _context3.t0.message, \"\\\"\"));\n\n            case 21:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee, null, [[2, 18]]);\n    }));\n\n    return function () {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  this.chainId = chainId;\n  this.url = url;\n  var parsed = new _url.default(url);\n  this.host = parsed.host;\n  this.path = parsed.pathname;\n});\n/**\n * Connect to web3 via a network url\n * Note: this has no knowledge of any user accounts\n */\n\nvar NetworkWeb3Connector = /*#__PURE__*/function (_AbstractWeb3Connecto) {\n  (0, _inherits2.default)(NetworkWeb3Connector, _AbstractWeb3Connecto);\n\n  var _super = _createSuper(NetworkWeb3Connector);\n\n  function NetworkWeb3Connector() {\n    var _context4;\n\n    var _this2;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        urls = _ref2.urls,\n        defaultChainId = _ref2.defaultChainId,\n        speedyNodeApiKey = _ref2.speedyNodeApiKey;\n\n    (0, _classCallCheck2.default)(this, NetworkWeb3Connector);\n    _this2 = _super.call(this);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this2), \"type\", 'network');\n\n    if (!urls && speedyNodeApiKey) {\n      urls = (0, _MoralisRpcs.getMoralisRpcs)(speedyNodeApiKey);\n    }\n\n    if (!urls && !speedyNodeApiKey) {\n      throw new Error('Cannot connect to rpc: No urls or speedyNodeApiKey provided for NetworkWeb3Connector.');\n    }\n\n    if (\"browser\" !== 'node' && speedyNodeApiKey) {\n      // eslint-disable-next-line no-console\n      console.warn('Using speedyNodeApiKey on the browser enviroment is not recommended, as it is publicly visible.');\n    }\n\n    _this2.chainId = (0, _verifyChainId.default)(defaultChainId !== null && defaultChainId !== void 0 ? defaultChainId : Number((0, _keys.default)(urls)[0]));\n    _this2.providers = (0, _reduce.default)(_context4 = (0, _keys.default)(urls)).call(_context4, function (accumulator, chainId) {\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)]);\n      return accumulator;\n    }, {});\n    return _this2;\n  }\n\n  (0, _createClass2.default)(NetworkWeb3Connector, [{\n    key: \"activate\",\n    value: function () {\n      var _activate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var _ref3,\n            providedChainId,\n            provider,\n            _args2 = arguments;\n\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _ref3 = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, providedChainId = _ref3.chainId;\n\n                if (providedChainId) {\n                  this.chainId = (0, _verifyChainId.default)(providedChainId);\n                }\n\n                provider = this.providers[(0, _convert.fromHexToDecimal)(this.chainId)];\n\n                if (provider) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                throw new Error(\"No rpc url provided for chainId \".concat(this.chainId));\n\n              case 5:\n                return _context5.abrupt(\"return\", {\n                  provider: provider,\n                  chainId: this.chainId,\n                  account: null\n                });\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _activate.apply(this, arguments);\n      };\n    }()\n  }]);\n  return NetworkWeb3Connector;\n}(_AbstractWeb3Connector.default);\n\nvar _default = NetworkWeb3Connector;\nexports.default = _default;","map":{"version":3,"names":["_Reflect$construct","require","_Object$defineProperty","_interopRequireDefault","exports","value","default","_regenerator","_stringify","_concat","_url","_keys","_reduce","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_asyncToGenerator2","_createClass2","_classCallCheck2","_defineProperty2","_CoreManager","_convert","_verifyChainId","_AbstractWeb3Connector","_MoralisRpcs","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","result","NewTarget","constructor","arguments","apply","Reflect","sham","Proxy","Boolean","prototype","valueOf","call","e","MiniRpcProvider","chainId","url","_this","_ref","mark","_callee","method","params","RESTController","response","_context","body","_body$error","_body$error2","_body$error3","_context2","wrap","_context3","prev","next","getRESTController","ajax","jsonrpc","id","sent","Error","status","concat","statusText","error","message","code","data","abrupt","t0","stop","parsed","host","path","pathname","NetworkWeb3Connector","_AbstractWeb3Connecto","_super","_context4","_this2","_ref2","length","undefined","urls","defaultChainId","speedyNodeApiKey","getMoralisRpcs","console","warn","Number","providers","accumulator","key","_activate","_callee2","_ref3","providedChainId","provider","_args2","_context5","fromHexToDecimal","account","_default"],"sources":["F:/h/web3.0_netflix_clone/node_modules/moralis/lib/browser/Web3Connector/NetworkWeb3Connector.js"],"sourcesContent":["\"use strict\";\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs3/core-js-stable/reflect/construct\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _url = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/url\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _reduce = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/reduce\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"../CoreManager\"));\n\nvar _convert = require(\"../utils/convert\");\n\nvar _verifyChainId = _interopRequireDefault(require(\"../utils/verifyChainId\"));\n\nvar _AbstractWeb3Connector = _interopRequireDefault(require(\"./AbstractWeb3Connector\"));\n\nvar _MoralisRpcs = require(\"./MoralisRpcs\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar MiniRpcProvider = /*#__PURE__*/(0, _createClass2.default)(function MiniRpcProvider(chainId, url) {\n  var _this = this;\n\n  (0, _classCallCheck2.default)(this, MiniRpcProvider);\n  (0, _defineProperty2.default)(this, \"request\", /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(method, params) {\n      var RESTController, response, _context, body, _body$error, _body$error2, _body$error3, _context2;\n\n      return _regenerator.default.wrap(function (_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (typeof method !== 'string') {\n                // eslint-disable-next-line prefer-destructuring\n                params = method.params; // eslint-disable-next-line prefer-destructuring\n\n                method = method.method;\n              }\n\n              RESTController = _CoreManager.default.getRESTController();\n              _context3.prev = 2;\n              _context3.next = 5;\n              return RESTController.ajax('POST', _this.url, (0, _stringify.default)({\n                jsonrpc: '2.0',\n                id: 1,\n                method: method,\n                params: params\n              }), {\n                'Content-Type': 'application/json'\n              });\n\n            case 5:\n              response = _context3.sent;\n\n              if (response) {\n                _context3.next = 8;\n                break;\n              }\n\n              throw new Error('No response');\n\n            case 8:\n              if (!(!response.status || response.status > 400)) {\n                _context3.next = 10;\n                break;\n              }\n\n              throw new Error((0, _concat.default)(_context = \"Error response [\".concat(response.status, \"] \")).call(_context, response.statusText));\n\n            case 10:\n              body = response.response;\n\n              if (!('error' in body)) {\n                _context3.next = 13;\n                break;\n              }\n\n              throw new Error(body === null || body === void 0 ? void 0 : (_body$error = body.error) === null || _body$error === void 0 ? void 0 : _body$error.message, body === null || body === void 0 ? void 0 : (_body$error2 = body.error) === null || _body$error2 === void 0 ? void 0 : _body$error2.code, body === null || body === void 0 ? void 0 : (_body$error3 = body.error) === null || _body$error3 === void 0 ? void 0 : _body$error3.data);\n\n            case 13:\n              if ('result' in body) {\n                _context3.next = 15;\n                break;\n              }\n\n              throw new Error(\"Received unexpected JSON-RPC response\");\n\n            case 15:\n              return _context3.abrupt(\"return\", body.result);\n\n            case 18:\n              _context3.prev = 18;\n              _context3.t0 = _context3[\"catch\"](2);\n              throw new Error((0, _concat.default)(_context2 = \"Failed to make \\\"\".concat(method, \"\\\" request with networkConnector: \\\"\")).call(_context2, _context3.t0.message, \"\\\"\"));\n\n            case 21:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee, null, [[2, 18]]);\n    }));\n\n    return function () {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  this.chainId = chainId;\n  this.url = url;\n  var parsed = new _url.default(url);\n  this.host = parsed.host;\n  this.path = parsed.pathname;\n});\n/**\n * Connect to web3 via a network url\n * Note: this has no knowledge of any user accounts\n */\n\nvar NetworkWeb3Connector = /*#__PURE__*/function (_AbstractWeb3Connecto) {\n  (0, _inherits2.default)(NetworkWeb3Connector, _AbstractWeb3Connecto);\n\n  var _super = _createSuper(NetworkWeb3Connector);\n\n  function NetworkWeb3Connector() {\n    var _context4;\n\n    var _this2;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        urls = _ref2.urls,\n        defaultChainId = _ref2.defaultChainId,\n        speedyNodeApiKey = _ref2.speedyNodeApiKey;\n\n    (0, _classCallCheck2.default)(this, NetworkWeb3Connector);\n    _this2 = _super.call(this);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this2), \"type\", 'network');\n\n    if (!urls && speedyNodeApiKey) {\n      urls = (0, _MoralisRpcs.getMoralisRpcs)(speedyNodeApiKey);\n    }\n\n    if (!urls && !speedyNodeApiKey) {\n      throw new Error('Cannot connect to rpc: No urls or speedyNodeApiKey provided for NetworkWeb3Connector.');\n    }\n\n    if (\"browser\" !== 'node' && speedyNodeApiKey) {\n      // eslint-disable-next-line no-console\n      console.warn('Using speedyNodeApiKey on the browser enviroment is not recommended, as it is publicly visible.');\n    }\n\n    _this2.chainId = (0, _verifyChainId.default)(defaultChainId !== null && defaultChainId !== void 0 ? defaultChainId : Number((0, _keys.default)(urls)[0]));\n    _this2.providers = (0, _reduce.default)(_context4 = (0, _keys.default)(urls)).call(_context4, function (accumulator, chainId) {\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)]);\n      return accumulator;\n    }, {});\n    return _this2;\n  }\n\n  (0, _createClass2.default)(NetworkWeb3Connector, [{\n    key: \"activate\",\n    value: function () {\n      var _activate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var _ref3,\n            providedChainId,\n            provider,\n            _args2 = arguments;\n\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _ref3 = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, providedChainId = _ref3.chainId;\n\n                if (providedChainId) {\n                  this.chainId = (0, _verifyChainId.default)(providedChainId);\n                }\n\n                provider = this.providers[(0, _convert.fromHexToDecimal)(this.chainId)];\n\n                if (provider) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                throw new Error(\"No rpc url provided for chainId \".concat(this.chainId));\n\n              case 5:\n                return _context5.abrupt(\"return\", {\n                  provider: provider,\n                  chainId: this.chainId,\n                  account: null\n                });\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _activate.apply(this, arguments);\n      };\n    }()\n  }]);\n  return NetworkWeb3Connector;\n}(_AbstractWeb3Connector.default);\n\nvar _default = NetworkWeb3Connector;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}